<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{mopslayout :: html(name='Java in der Praxis', headcontent=~{:: headcontent}, navigation=~{:: navigation}, bodycontent=~{:: bodycontent})}">
<head>
    <meta charset="utf-8">
    <title>Name des Subsystems</title>
    <th:block th:fragment="headcontent">
        <!-- Links, Skripts, Styles hier einfügen! -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
              integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
              crossorigin="anonymous"
              th:remove="all">
        <link rel="stylesheet" href="https://icono-49d6.kxcdn.com/icono.min.css" th:remove="all">
    </th:block>
</head>
<body>
<header>
    <nav class="navigation navigation-secondary" is="mops-navigation" th:fragment="navigation">
        <!-- Navigation als ungeordnete Liste mit einfachen Links hier einfügen! -->
        <ul>
            <li>
                <a th:href="@{/rheinjug2/student/events}" href="/home"> Veranstaltugen Übersicht </a>
            </li>
            <li>
                <a th:href="@{/rheinjug2/student/visitedevents}" href="/rheinjug2/student/personal">
                    Meine Veranstaltungen</a>
            </li>
            <li>
                <a th:href="@{/rheinjug2/student/creditpoints}">CP beantragen</a>
            </li>
        </ul>
    </nav>
</header>
<main th:fragment="bodycontent">
    <!-- Restlichen Inhalt hier einfügen! -->
    <h1 class="text-center text-secondary"> Bericht Abgabe </h1>
    <div class="container bg-light rounded shadow-lg text-secondary "
         style=" padding: 10px; margin-top: 40px; margin-bottom: 50px">
        <p th:text="${message}" th:if="${message ne null}" class="alert alert-primary"></p>
        <form action="summarysubmit" th:object="${summary}" method="post" id="mysubmit">
            <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
            <div class="form-group">
                <div>
                    <label for="subject">Betreff</label>
                    <input type="text" class="form-control " id="subject" th:field="*{eventname}" name="Title"
                           value=" Zusammenfassung der Veranstaltung Double Feature: Webanwendungen mit MVC 1.0 / Typparameter."
                           readonly>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-12 col-sm-6">
                        <label for="Studentname">Name</label>
                        <input type="text" class="form-control" id="Studentname" th:field="*{studentname}"
                               value="Ein Student" readonly>
                    </div>
                    <div class="col-12 col-sm-6">
                        <label for="eventsdate">Datum der Veranstaltung</label>
                        <input type="text" class="form-control" id="eventsdate" th:field="*{date}"
                               value="15.03.2020"
                               readonly>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="Inhalt">Inhalt</label>
                <textarea class="form-control" id="Inhalt" name="Inhalt" rows="20"
                          placeholder="Zusammenfassung hier schreiben..." th:field="*{content}"
                          form="mysubmit"></textarea>
            </div>
            <div class="form-group secondary row">
                <div class="col-md-3 text-left">
                    <label class="" for="Todaysdate">Heutiges Datum</label>
                    <input th:value="${#dates.format(#dates.createNow(), 'dd MMM yyyy')}" type="text"
                           class="form-control "
                           id="Todaysdate" value="01.04.2020" readonly>
                </div>
                <div class="d-flex flex-column-reverse">
                    <button type="submit" class="btn btn-outline-success">Abgabe</button>
                </div>
            </div>
            <input type="hidden" name="eventId" th:value="${summary.getEventId()}">
        </form>
        <div class="d-flex flex-row-reverse">
            <a th:href="@{/rheinjug2/download/presentation}">
                <p th:text="${noPresentation}" th:if="${noPresentation ne null}" class="alert alert-primary"></p>
                <button class="btn btn-outline-dark">Downloade die Vorlage <img
                        src="../../static/icons/vorlage.png" class="ml-3" th:src="@{/icons/vorlage.png}"
                        style="width: 32px;height: 28px;">
                </button>
            </a>
        </div>
    </div>
    <h2 class="text-center text-secondary font-weight-bolder"> oder lade deine Zusammenfassung hoch </h2>
    <i class="fa fa-arrow-down"></i>
    <div class="container bg-light rounded shadow-lg text-secondary "
         style=" padding: 10px; margin-top: 40px; margin-bottom: 50px">
        <div class="form-group">
            <div class=" row">
                <div class="col-12 col-sm-6">
                    <form action="reportsubmit" method="post" enctype="multipart/form-data">
                        <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
                        <input type="file" name="file" multiple>
                        <input type="hidden" name="eventId" th:value="${summary.getEventId()}">
                        <p></p>
                        <input type="submit" class="btn btn-outline-success" value="Zusammenfassung hochladen">
                        <img src="../../static/icons/upload.png" class="ml-3"
                             th:src="@{/icons/upload.png}"
                             style="width: 32px;height: 28px;">
                        <!-- <button type="submit" class="btn btn-outline-success">Zusammenfassung hochladen</button> -->
                    </form>
                </div>
                <div class="col-12 col-sm-6 d-flex flex-column-reverse text-right">
                    <a th:href="@{/rheinjug2/download/file(eventId=${summary.getEventId()})}">
                        <button class="btn btn-outline-dark">Downloade deine momentane Zusammenfassung</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>